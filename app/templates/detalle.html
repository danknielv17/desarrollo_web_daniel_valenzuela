<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Información de la Actividad</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <header>
        <h1>Información de la Actividad Seleccionada</h1>
    </header>

    <main>
        <div class="detalle">
            <h2>Actividad</h2>

            <p><strong>Inicio:</strong> {{ actividad.dia_hora_inicio.strftime('%Y-%m-%d %H:%M') }}</p>
            <p><strong>Término:</strong> {{ actividad.dia_hora_termino.strftime('%Y-%m-%d %H:%M') if actividad.dia_hora_termino else '-' }}</p>
            <p><strong>Comuna:</strong> {{ actividad.comuna.nombre if actividad.comuna_id else '-' }}</p>
            <p><strong>Sector:</strong> {{ actividad.sector or '-' }}</p>
            <p><strong>Descripción:</strong> {{ actividad.descripcion or '-' }}</p>
            <p><strong>Organizador:</strong> {{ actividad.nombre }}</p>
            <p><strong>Email:</strong> {{ actividad.email }}</p>
            <p><strong>Teléfono:</strong> {{ actividad.celular or '-' }}</p>

            {% if temas_obj %}
            <h3>Temas asociados</h3>
            <ul>
                {% for tema_obj in temas_obj %}
                    <li>
                        {% if tema_obj.tema == 'otro' and tema_obj.glosa_otro %}
                            {{ tema_obj.glosa_otro }}
                        {% else %}
                            {{ tema_obj.tema }}
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
            {% endif %}

            {% if contactos %}
            <h3>Contacto</h3>
            <ul>
                {% for c in contactos %}
                    <li><strong>{{ c.nombre }}:</strong> {{ c.identificador }}</li>
                {% endfor %}
            </ul>
            {% endif %}

            {% if archivos %}
            <h3>Fotos de la Actividad</h3>
            <div class="galeria">
                {% for archivo in archivos %}
                <img src="{{ url_for('static', filename='uploads/' + archivo.nombre_archivo) }}"
                     alt="Foto de la actividad"
                     width="320" height="240"
                     style="cursor:pointer"
                     onclick="ampliarFoto('{{ url_for('static', filename='uploads/' + archivo.nombre_archivo) }}')"
                     onerror="this.onerror=null; this.src='{{ url_for('static', filename='img/no-image.png') }}';">
                {% endfor %}
            </div>
            {% endif %}

            <div class="botones-navegacion">
                <a href="{{ url_for('listado') }}"><button type="button">Volver al Listado</button></a>
                <a href="{{ url_for('portada') }}"><button type="button">Volver a la Portada</button></a>
            </div>
        </div>
    </main>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
